<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title></title>
    <script type='text/javascript' src="http://d3js.org/d3.v3.min.js"></script>
    <script type='text/javascript' src="http://micropolar.org/micropolar-v0.2.2.js"></script>
    <link href="nouislider.min.css" rel="stylesheet">
    <style>

    .chart {display: inline;}

    </style>
</head>
<body>

  <div id="drag-fixed"></div>

  <div class="chart" id="chart-sub-polar1"></div>
  <div class="chart" id="chart-sub-polar2"></div>
  <div id="table"> </div>
  <h3>Move slider handle to select a point from sum current chart. Phasor chart updates with associated timestamp and info table for values</h3>



  <script src="nouislider.min.js"></script>
  <script>
  // real sample data from VM

  var timestamps = [
  "2016-05-05 00:00:00", "2016-05-05 00:30:00", "2016-05-05 01:00:00", "2016-05-05 01:30:00", "2016-05-05 02:00:00", "2016-05-05 02:30:00", "2016-05-05 03:00:00", "2016-05-05 03:30:00", "2016-05-05 04:00:00", "2016-05-05 04:30:00", "2016-05-05 05:00:00",
  "2016-05-05 05:30:00", "2016-05-05 06:00:00", "2016-05-05 06:30:00", "2016-05-05 07:00:00", "2016-05-05 07:30:00", "2016-05-05 08:00:00", "2016-05-05 08:30:00", "2016-05-05 09:00:00", "2016-05-05 09:30:00", "2016-05-05 10:00:00", "2016-05-05 10:30:00",
  "2016-05-05 11:00:00", "2016-05-05 11:30:00", "2016-05-05 12:00:00", "2016-05-05 12:30:00", "2016-05-05 13:00:00", "2016-05-05 13:30:00", "2016-05-05 14:00:00", "2016-05-05 14:30:00", "2016-05-05 15:00:00", "2016-05-05 15:30:00", "2016-05-05 16:00:00",
  "2016-05-05 16:30:00", "2016-05-05 17:00:00", "2016-05-05 17:30:00", "2016-05-05 18:00:00", "2016-05-05 18:30:00", "2016-05-05 19:00:00", "2016-05-05 19:30:00", "2016-05-05 20:00:00", "2016-05-05 20:30:00", "2016-05-05 21:00:00", "2016-05-05 21:30:00",
  "2016-05-05 22:00:00", "2016-05-05 22:30:00", "2016-05-05 23:00:00", "2016-05-05 23:30:00", "2016-05-06 00:00:00", "2016-05-06 00:30:00", "2016-05-06 01:00:00", "2016-05-06 01:30:00", "2016-05-06 02:00:00", "2016-05-06 02:30:00", "2016-05-06 03:00:00",
  "2016-05-06 03:30:00", "2016-05-06 04:00:00", "2016-05-06 04:30:00", "2016-05-06 05:00:00", "2016-05-06 05:30:00", "2016-05-06 06:00:00", "2016-05-06 06:30:00", "2016-05-06 07:00:00", "2016-05-06 07:30:00", "2016-05-06 08:00:00", "2016-05-06 08:30:00",
  "2016-05-06 09:00:00", "2016-05-06 09:30:00", "2016-05-06 10:00:00", "2016-05-06 10:30:00", "2016-05-06 11:00:00", "2016-05-06 11:30:00", "2016-05-06 12:00:00", "2016-05-06 12:30:00", "2016-05-06 13:00:00", "2016-05-06 13:30:00", "2016-05-06 14:00:00",
  "2016-05-06 14:30:00", "2016-05-06 15:00:00", "2016-05-06 15:30:00", "2016-05-06 16:00:00", "2016-05-06 16:30:00", "2016-05-06 17:00:00", "2016-05-06 17:30:00", "2016-05-06 18:00:00", "2016-05-06 18:30:00", "2016-05-06 19:00:00", "2016-05-06 19:30:00",
  "2016-05-06 20:00:00", "2016-05-06 20:30:00", "2016-05-06 21:00:00", "2016-05-06 21:30:00", "2016-05-06 22:00:00", "2016-05-06 22:30:00", "2016-05-06 23:00:00", "2016-05-06 23:30:00", "2016-05-07 00:00:00", "2016-05-07 00:30:00", "2016-05-07 01:00:00",
  "2016-05-07 01:30:00", "2016-05-07 02:00:00", "2016-05-07 02:30:00", "2016-05-07 03:00:00", "2016-05-07 03:30:00", "2016-05-07 04:00:00", "2016-05-07 04:30:00", "2016-05-07 05:00:00", "2016-05-07 05:30:00", "2016-05-07 06:00:00", "2016-05-07 06:30:00",
  "2016-05-07 07:00:00", "2016-05-07 07:30:00", "2016-05-07 08:00:00", "2016-05-07 08:30:00", "2016-05-07 09:00:00", "2016-05-07 09:30:00", "2016-05-07 10:00:00", "2016-05-07 10:30:00", "2016-05-07 11:00:00", "2016-05-07 11:30:00", "2016-05-07 12:00:00",
  "2016-05-07 12:30:00", "2016-05-07 13:00:00", "2016-05-07 13:30:00", "2016-05-07 14:00:00", "2016-05-07 14:30:00", "2016-05-07 15:00:00", "2016-05-07 15:30:00", "2016-05-07 16:00:00", "2016-05-07 16:30:00", "2016-05-07 17:00:00", "2016-05-07 17:30:00",
  "2016-05-07 18:00:00", "2016-05-07 18:30:00", "2016-05-07 19:00:00", "2016-05-07 19:30:00", "2016-05-07 20:00:00", "2016-05-07 20:30:00", "2016-05-07 21:00:00", "2016-05-07 21:30:00", "2016-05-07 22:00:00", "2016-05-07 22:30:00", "2016-05-07 23:00:00",
  "2016-05-07 23:30:00", "2016-05-08 00:00:00", "2016-05-08 00:30:00", "2016-05-08 01:00:00", "2016-05-08 01:30:00", "2016-05-08 02:00:00", "2016-05-08 02:30:00", "2016-05-08 03:00:00", "2016-05-08 03:30:00", "2016-05-08 04:00:00", "2016-05-08 04:30:00",
  "2016-05-08 05:00:00", "2016-05-08 05:30:00", "2016-05-08 06:00:00", "2016-05-08 06:30:00", "2016-05-08 07:00:00", "2016-05-08 07:30:00", "2016-05-08 08:00:00", "2016-05-08 08:30:00", "2016-05-08 09:00:00", "2016-05-08 09:30:00", "2016-05-08 10:00:00",
  "2016-05-08 10:30:00", "2016-05-08 11:00:00", "2016-05-08 11:30:00", "2016-05-08 12:00:00", "2016-05-08 12:30:00", "2016-05-08 13:00:00", "2016-05-08 13:30:00", "2016-05-08 14:00:00", "2016-05-08 14:30:00", "2016-05-08 15:00:00", "2016-05-08 15:30:00",
  "2016-05-08 16:30:00", "2016-05-08 17:00:00", "2016-05-08 17:30:00", "2016-05-08 18:30:00", "2016-05-08 19:00:00", "2016-05-08 19:30:00", "2016-05-08 20:00:00", "2016-05-08 21:00:00", "2016-05-08 21:30:00", "2016-05-08 22:00:00", "2016-05-08 23:00:00",
  "2016-05-08 23:30:00", "2016-05-09 00:00:00", "2016-05-09 01:00:00", "2016-05-09 01:30:00", "2016-05-09 02:00:00", "2016-05-09 02:30:00", "2016-05-09 03:30:00", "2016-05-09 04:00:00", "2016-05-09 04:30:00", "2016-05-09 05:30:00", "2016-05-09 06:00:00",
  "2016-05-09 06:30:00", "2016-05-09 07:30:00", "2016-05-09 08:00:00", "2016-05-09 08:30:00", "2016-05-09 09:30:00", "2016-05-09 10:00:00", "2016-05-09 10:30:00", "2016-05-09 11:30:00", "2016-05-09 12:00:00", "2016-05-09 12:30:00", "2016-05-09 13:30:00",
  "2016-05-09 14:00:00", "2016-05-09 14:30:00", "2016-05-09 15:30:00", "2016-05-09 16:00:00", "2016-05-09 16:30:00", "2016-05-09 17:30:00", "2016-05-09 18:00:00", "2016-05-09 18:30:00", "2016-05-09 19:30:00", "2016-05-09 20:00:00", "2016-05-09 20:30:00",
  "2016-05-09 21:30:00", "2016-05-09 22:00:00", "2016-05-09 22:30:00", "2016-05-09 23:30:00", "2016-05-10 00:00:00", "2016-05-10 00:30:00", "2016-05-10 01:30:00", "2016-05-10 02:00:00", "2016-05-10 02:30:00", "2016-05-10 03:30:00", "2016-05-10 04:00:00",
  "2016-05-10 05:00:00", "2016-05-10 05:30:00", "2016-05-10 06:00:00", "2016-05-10 07:00:00", "2016-05-10 07:30:00", "2016-05-10 08:00:00", "2016-05-10 09:00:00", "2016-05-10 09:30:00", "2016-05-10 10:30:00", "2016-05-10 11:00:00", "2016-05-10 11:30:00",
  "2016-05-10 12:30:00", "2016-05-10 13:00:00", "2016-05-10 13:30:00", "2016-05-10 14:30:00", "2016-05-10 15:00:00", "2016-05-10 16:00:00", "2016-05-10 16:30:00", "2016-05-10 17:00:00", "2016-05-10 18:00:00", "2016-05-10 18:30:00", "2016-05-10 19:30:00",
  "2016-05-10 20:00:00", "2016-05-10 20:30:00", "2016-05-10 21:30:00", "2016-05-10 22:00:00", "2016-05-10 23:00:00", "2016-05-10 23:30:00", "2016-05-11 00:30:00", "2016-05-11 01:00:00", "2016-05-11 01:30:00", "2016-05-11 02:30:00", "2016-05-11 03:00:00",
  "2016-05-11 04:00:00", "2016-05-11 04:30:00", "2016-05-11 05:30:00", "2016-05-11 06:00:00", "2016-05-11 06:30:00", "2016-05-11 07:30:00", "2016-05-11 08:00:00", "2016-05-11 09:00:00", "2016-05-11 09:30:00", "2016-05-11 10:30:00", "2016-05-11 11:00:00",
  "2016-05-11 12:00:00", "2016-05-11 12:30:00", "2016-05-11 13:30:00", "2016-05-11 14:00:00", "2016-05-11 15:00:00", "2016-05-11 15:30:00", "2016-05-11 16:30:00", "2016-05-11 17:00:00", "2016-05-11 18:00:00", "2016-05-11 18:30:00", "2016-05-11 19:30:00",
  "2016-05-11 20:00:00", "2016-05-11 21:00:00", "2016-05-11 21:30:00", "2016-05-11 22:30:00", "2016-05-11 23:30:00", "2016-05-12 00:00:00", "2016-05-12 01:00:00", "2016-05-12 01:30:00", "2016-05-12 02:30:00", "2016-05-12 03:00:00", "2016-05-12 04:00:00",
  "2016-05-12 04:30:00", "2016-05-12 05:30:00", "2016-05-12 06:00:00", "2016-05-12 07:00:00", "2016-05-12 07:30:00", "2016-05-12 08:30:00", "2016-05-12 09:00:00", "2016-05-12 10:00:00", "2016-05-12 11:00:00", "2016-05-12 11:30:00", "2016-05-12 12:30:00",
  "2016-05-12 13:00:00", "2016-05-12 14:00:00", "2016-05-12 14:30:00", "2016-05-12 15:30:00", "2016-05-12 16:30:00", "2016-05-12 17:00:00", "2016-05-12 18:00:00", "2016-05-12 19:00:00", "2016-05-12 19:30:00", "2016-05-12 20:30:00", "2016-05-12 21:00:00",
  "2016-05-12 22:00:00", "2016-05-12 23:00:00", "2016-05-12 23:30:00", "2016-05-13 00:30:00", "2016-05-13 01:30:00", "2016-05-13 02:00:00", "2016-05-13 03:00:00", "2016-05-13 04:00:00", "2016-05-13 04:30:00", "2016-05-13 05:30:00", "2016-05-13 06:30:00",
  "2016-05-13 07:00:00", "2016-05-13 08:00:00", "2016-05-13 09:00:00", "2016-05-13 10:00:00", "2016-05-13 10:30:00", "2016-05-13 11:30:00", "2016-05-13 12:30:00", "2016-05-13 13:00:00", "2016-05-13 14:00:00", "2016-05-13 15:00:00", "2016-05-13 16:00:00",
  "2016-05-13 16:30:00", "2016-05-13 17:30:00", "2016-05-13 18:30:00", "2016-05-13 19:00:00", "2016-05-13 20:00:00", "2016-05-13 21:00:00", "2016-05-13 22:00:00", "2016-05-13 22:30:00", "2016-05-13 23:30:00", "2016-05-14 00:30:00", "2016-05-14 01:30:00",
  "2016-05-14 02:30:00", "2016-05-14 03:00:00", "2016-05-14 04:00:00", "2016-05-14 05:00:00", "2016-05-14 06:00:00", "2016-05-14 07:00:00", "2016-05-14 07:30:00", "2016-05-14 08:30:00", "2016-05-14 09:30:00", "2016-05-14 10:30:00", "2016-05-14 11:30:00",
  "2016-05-14 12:30:00", "2016-05-14 13:00:00", "2016-05-14 14:00:00", "2016-05-14 15:00:00", "2016-05-14 16:00:00", "2016-05-14 17:00:00", "2016-05-14 18:00:00", "2016-05-14 18:30:00", "2016-05-14 19:30:00", "2016-05-14 20:30:00", "2016-05-14 21:30:00",
  "2016-05-14 22:30:00", "2016-05-14 23:30:00", "2016-05-15 00:30:00", "2016-05-15 01:30:00", "2016-05-15 02:30:00", "2016-05-15 03:30:00", "2016-05-15 04:00:00", "2016-05-15 05:00:00", "2016-05-15 06:00:00", "2016-05-15 07:00:00", "2016-05-15 08:00:00",
  "2016-05-15 09:00:00", "2016-05-15 10:00:00", "2016-05-15 11:00:00", "2016-05-15 12:00:00", "2016-05-15 13:00:00", "2016-05-15 14:00:00", "2016-05-15 15:00:00", "2016-05-15 16:00:00", "2016-05-15 17:00:00", "2016-05-15 18:00:00", "2016-05-15 19:00:00",
  "2016-05-15 20:00:00", "2016-05-15 21:00:00", "2016-05-15 22:00:00", "2016-05-15 23:00:00", "2016-05-16 00:00:00",];

  console.log(timestamps.length)

  var tValues = [
  0.66918, 1.036, 0.96048, 0.91581, 0.95711, 0.60386, 0.96845, 1.2804, 0.68139, 0.51874, 2.3009, 1.8561, 1.8896, 0.88151, 1.1415, 1.4664, 1.0021, 0.75437, 0.19048, 0.47371, 0.18701, 0.65861, 0.68872, 0.83891, 1.6324, 1.7522, 1.3308, 1.6362, 1.8713, 1.6216,
  2.8227, 3.4641, 3.5203, 3.8127, 3.6912, 4.2017, 4.0849, 3.0368, 2.9901, 3.3746, 3.3695, 4.7817, 4.9228, 6.4753, 6.184, 6.8206, 7.9867, 8.5535, 8.4294, 8.3405, 8.0312, 8.2866, 9.0577, 8.6144, 8.8022, 8.6068, 8.6999, 8.4213, 8.6927, 8.0338, 6.5738, 5.8933,
  5.9012, 6.3809, 6.3236, 5.9035, 7.6508, 7.6227, 7.6323, 7.9435, 7.799, 8.1382, 8.2934, 7.7378, 7.8477, 8.3932, 8.6351, 9.1566, 9.5984, 8.5341, 7.7749, 7.6386, 7.0047, 7.2641, 6.176, 6.0458, 5.9825, 5.4848, 6.2798, 6.3692, 6.9692, 7.9903, 6.8625, 6.8622,
  5.9841, 5.7832, 5.7177, 6.2914, 5.943, 5.5545, 5.3397, 5.5296, 5.5535, 5.4858, 5.7876, 5.8448, 5.517, 5.3587, 4.427, 3.5636, 3.5468, 2.3458, 1.1304, 0.55903, 0.3715, 0.3595, 0.041904, 0.49876, 0.19708, 359.99, 1.4232, 1.6396, 1.5318, 1.2452, 1.4176, 2.0985,
  1.824, 2.3516, 0.86754, 359.62, 357.58, 356.18, 355.96, 356.56, 356.33, 356.72, 356.95, 357.4, 358.39, 358.22, 359.44, 359.17, 0.77532, 1.9862, 2.9786, 3.1219, 3.0817, 4.1138, 2.8782, 3.1145, 3.6694, 3.6001, 3.9514, 4.007, 4.1533, 4.5687, 4.078, 3.9389,
  3.5458, 3.7034, 3.2071, 3.8981, 3.5143, 3.4978, 2.1715, 2.2223, 1.9043, 2.0761, 1.3102, 1.2191, 2.354, 1.8042, 2.2764, 1.1631, 0.89076, 0.66088, 0.44167, 0.10762, 359.69, 358.87, 358.83, 358.97, 358.2, 359.22, 0.36201, 1.5397, 1.5803, 2.2065, 3.1882,
  3.0368, 3.1242, 3.0331, 2.9645, 3.464, 3.0101, 2.79, 1.6644, 2.6337, 2.7123, 2.9819, 0.92272, 0.10227, 0.014321, 359.8, 359.44, 359.06, 359.06, 358.82, 357.66, 357.12, 358.07, 356.28, 355.09, 355.07, 355.21, 355.51, 355.94, 355.92, 355.16, 356.02, 356.36,
  356.51, 356.93, 358.37, 0.40193, 0.67179, 0.20954, 1.4086, 1.2587, 1.4887, 1.0427, 0.98893, 359.47, 359.58, 356.59, 355.85, 355.13, 353.1, 353.71, 353.48, 353.9, 353.56, 354.48, 354.07, 353.57, 353.98, 353.68, 354.9, 354.67, 354.71, 355.31, 355.19, 356.13,
  354.55, 355.16, 355.12, 355.29, 357.45, 358.93, 0.28203, 0.14769, 359.8, 0.40964, 359.96, 0.40707, 1.0627, 359.91, 357.65, 355.73, 355.29, 354.55, 353.52, 353.02, 352.62, 352.86, 353.01, 353.7, 354.28, 354.87, 354.96, 356.04, 356.06, 356.73, 354.48, 355.05,
  355.46, 354.85, 355.98, 357.14, 359.35, 2.0004, 1.5752, 1.5664, 0.81593, 1.5613, 1.8305, 1.2697, 1.1636, 359.25, 358.51, 357.9, 358.4, 356.96, 356.54, 356.75, 357.45, 357.12, 357.9, 357.35, 357.92, 357.58, 358.78, 357.54, 356.84, 356.59, 356.97, 357.62,
  356.57, 357.77, 0.46626, 359.3, 0.15432, 0.85938, 1.537, 2.0426, 2.6456, 2.2803, 1.9732, 0.55344, 358.77, 357.6, 0.2305, 0.39586, 1.2344, 1.6416, 2.5166, 2.2915, 2.1941, 0.54442, 359.6, 358.18, 358, 357.66, 357.68, 358.1, 359.09, 1.9782, 1.7753, 3.8466,
  3.3788, 4.1494, 4.7013, 4.6099, 5.0557, 4.9804, 5.4047, 4.6901, 3.8234, 1.5204, 359.72, 359.21, 0.49857, 1.3878, 1.595, 1.7478, 2.1448, 2.5562, 1.5828, 0.67032, 1.1858, 1.4134, 1.3281, 0.75863, 3.688, 4.155, 4.7555, 4.9916, 4.2111, 5.0355, 5.7126, 5.8808,
  6.1438, 6.7955, 6.8486, 5.0842, 3.4192, 4.0834, 3.5027, 3.1332, 3.2906, 3.0568, 2.2465, 1.735, 1.6695, 1.0562, 1.2939, 1.4396, 2.7538, 5.4563, 8.3014, 5.4563
  ];
  var rValues = [
  0.99882, 0.99663, 0.99425, 1.0029, 1.0012, 1.0059, 0.99352, 0.99423, 0.99343, 0.98721, 0.96291, 0.95716, 0.96901, 0.9752, 0.98464, 0.98475, 0.98548, 0.99092, 0.98794, 0.97723, 0.98526, 0.98033, 0.97524, 0.97652, 0.96455, 0.95702, 0.96286, 0.96018,
  0.95814, 0.95748, 0.95025, 0.94264, 0.95415, 0.94704, 0.94783, 0.96194, 0.93901, 0.93081, 0.9341, 0.92645, 0.92183, 0.91551, 0.93401, 0.9366, 0.93836, 0.92421, 0.88093, 0.88714, 0.88238, 0.88254, 0.87482, 0.87792, 0.87692, 0.87315, 0.8729, 0.87254, 0.86992,
  0.86764, 0.84931, 0.86122, 0.88564, 0.89631, 0.89401, 0.90316, 0.90965, 0.91171, 0.89976, 0.91237, 0.90588, 0.90962, 0.91312, 0.90425, 0.89619, 0.88893, 0.89182, 0.88665, 0.87168, 0.8801, 0.88556, 0.89639, 0.88314, 0.88113, 0.87564, 0.88104, 0.86377,
  0.86041, 0.85484, 0.854, 0.85129, 0.8519, 0.85005, 0.84071, 0.8451, 0.83285, 0.83621, 0.84229, 0.84616, 0.81753, 0.81732, 0.82187, 0.82143, 0.81841, 0.8184, 0.81514, 0.80757, 0.80711, 0.80741, 0.78805, 0.78395, 0.78367, 0.79941, 0.81495, 0.82392, 0.83904,
  0.84072, 0.84265, 0.84496, 0.837, 0.84063, 0.83023, 0.81186, 0.80458, 0.80871, 0.81135, 0.80967, 0.80497, 0.81163, 0.80866, 0.82815, 0.83928, 0.83429, 0.82636, 0.82208, 0.80854, 0.80618, 0.80157, 0.79822, 0.78468, 0.79705, 0.80515, 0.79981, 0.80073, 0.7716,
  0.76295, 0.75806, 0.76265, 0.76515, 0.7486, 0.75553, 0.76024, 0.75515, 0.75654, 0.75557, 0.75536, 0.76278, 0.75826, 0.75292, 0.73975, 0.74059, 0.73953, 0.74711, 0.74047, 0.74916, 0.75188, 0.75498, 0.77324, 0.77614, 0.77017, 0.76809, 0.76652, 0.75507,
  0.75834, 0.75623, 0.7594, 0.75675, 0.75803, 0.75417, 0.7535, 0.73289, 0.74133, 0.74563, 0.74067, 0.73221, 0.74435, 0.7402, 0.7394, 0.72869, 0.72616, 0.73069, 0.73642, 0.73963, 0.73795, 0.73887, 0.73255, 0.73291, 0.73637, 0.72499, 0.73787, 0.74317, 0.76909,
  0.77602, 0.78008, 0.77838, 0.78627, 0.78357, 0.79165, 0.78601, 0.78818, 0.79871, 0.80181, 0.78579, 0.7911, 0.78995, 0.77791, 0.80069, 0.7873, 0.78491, 0.79912, 0.79172, 0.79598, 0.79319, 0.77466, 0.79454, 0.77376, 0.7488, 0.74018, 0.7479, 0.74968, 0.74706,
  0.75281, 0.75802, 0.76319, 0.76071, 0.77185, 0.81696, 0.84718, 0.853, 0.87245, 0.86391, 0.86439, 0.87148, 0.86744, 0.86532, 0.87045, 0.87561, 0.86095, 0.87208, 0.8513, 0.86757, 0.87117, 0.83953, 0.84502, 0.84074, 0.84993, 0.83593, 0.80257, 0.79225, 0.79716,
  0.79954, 0.79899, 0.79765, 0.80374, 0.80088, 0.79396, 0.79681, 0.78964, 0.78503, 0.81468, 0.82621, 0.85319, 0.86369, 0.88194, 0.89381, 0.89719, 0.88143, 0.88626, 0.88355, 0.86402, 0.86757, 0.86355, 0.84934, 0.8534, 0.84713, 0.84567, 0.84308, 0.85016,
  0.84725, 0.82288, 0.80976, 0.79337, 0.77973, 0.79017, 0.79783, 0.79749, 0.79033, 0.80049, 0.79811, 0.79495, 0.7903, 0.7897, 0.81802, 0.82565, 0.84333, 0.85598, 0.83115, 0.83097, 0.83394, 0.82978, 0.82542, 0.83098, 0.83275, 0.82368, 0.83327, 0.8359, 0.83782,
  0.83992, 0.82735, 0.84329, 0.85154, 0.80019, 0.8435, 0.83278, 0.83347, 0.82019, 0.81459, 0.83106, 0.83362, 0.84156, 0.82974, 0.85308, 0.85865, 0.85149, 0.85527, 0.84716, 0.84505, 0.84044, 0.8457, 0.84058, 0.82422, 0.82735, 0.83855, 0.84872, 0.84696, 0.83105,
  0.84395, 0.83337, 0.82076, 0.82044, 0.79585, 0.80286, 0.80631, 0.80375, 0.8046, 0.80702, 0.81131, 0.80562, 0.79059, 0.79615, 0.84482, 0.87064, 0.87158, 0.87986, 0.87873, 0.86493, 0.86023, 0.85058, 0.84557, 0.85433, 0.86864, 0.83006, 0.824, 0.82538, 0.84561,
  0.81391, 0.81016, 0.79756, 0.81051, 0.82318, 0.82154, 0.82125, 0.81946, 0.8256, 0.81107, 0.79764, 0.79441, 0.80942, 0.83361, 0.84022, 0.85174, 0.84175, 0.84004, 0.84724, 0.85048, 0.86758, 0.86852, 0.85749, 0.85503, 0.85505, 0.80718, 0.78077, 0.80716
  ];


  // slider
  dragFixedSlider = document.getElementById('drag-fixed');
  noUiSlider.create(dragFixedSlider, {
  	start: [ 6 ],
    step: 1,
  	range: {
  		'min':  0,
  		'max':  ( timestamps.length - 1 )
  	},
    pips: {
  	mode: 'range',
  	density: 1
  }
  });

  // slider update function
  dragFixedSlider.noUiSlider.on('update', function(){

    var sliderMax = this["options"]["range"]["max"];
    var sliderMin = this["options"]["range"]["min"];
    var sliderValue = parseInt(this.get());

    var tableContent = "Slider interval: " + sliderValue + " Timestamp: " + timestamps[sliderValue] +
    " // IR: " + tValues[sliderValue] + " r1: " + rValues[sliderValue] +
    " // IS: " + tValues[sliderValue] + " r2: " + rValues[sliderValue] +
    " // IT: " + tValues[sliderValue] + " r3: " + rValues[sliderValue] ;
    document.getElementById('table').innerHTML = tableContent

    var tSelected = tValues[sliderValue];
    var rSelected = rValues[sliderValue];

    if (sliderValue === sliderMax) {
      var latestColor = "lightgreen";
    } else {
      var latestColor = "orange";
    }

    console.log("slider update fire");
    console.log(this.get());
    console.log("Slider max: " + sliderMax);
    console.log("Slider min: " + sliderMin);
    console.log("Slider value: " + sliderValue);

    function getRandomIntBetweenRange(min, max) {
      return Math.floor(Math.random() * (max - min) + min);
    }

    var trand = [getRandomIntBetweenRange(100, 140), getRandomIntBetweenRange(0, 10), getRandomIntBetweenRange(210, 250)]
    var rrand = [getRandomIntBetweenRange(8, 12), getRandomIntBetweenRange(8, 12), getRandomIntBetweenRange(11, 16)]
    var colors = ["lightgreen"]

    // phasor chart
    var polarTwoConfig = {
      "data": [
      {
        "t": [tValues[sliderValue], tValues[sliderValue] - 120, tValues[sliderValue] + 120],
        "r": [rValues[sliderValue], rValues[sliderValue], rValues[sliderValue]],
        "name": "Current Vectors",
        "visible": true,
        "color": "lightgreen",
        "geometry": "DotPlot",
      }],
      "layout": {
        "radialAxis": {
          "domain": [0,1.1],
          "orientation": -45,
          "visible": true,
          "gridLinesVisible": true,
          "tickOrientation": 'horizontal',
          "ticksSuffix": "mA"
        },
        "angularAxis": {
          "domain": [0,360],
          "visible": true,
          "gridLinesVisible": true,
          "labelsVisible": true,
          "tickOrientation": "horizontal",
          "ticksSuffix": "째"
        },
        "labelOffset": 15,
        "direction": "counterclockwise",
      },

    };

    // sum current chart
    var polarOneConfig = {
      "data": [
      // data for sum current cloud
      {
        "t": tValues,
        "r": rValues,
        "name": "Current Sum",
        "visible": true,
        "color": "blue",
        "geometry": "DotPlot",
      },
      //data for selected point
      {
        "t": [tSelected],
        "r": [rSelected],
        "name": "Selected Point",
        "visible": true,
        "color": "lightgreen",
        "geometry": "DotPlot",
      },
      //data for most recent point
      {
        "t": [tValues[sliderMax]],
        "r": [rValues[sliderMax]],
        "name": "Latest Value",
        "visible": true,
        "color": latestColor,
        "geometry": "DotPlot",
      }],
      "layout": {
        "radialAxis": {
          "domain": [0,1],
          "orientation": -45,
          "visible": true,
          "gridLinesVisible": true,
          "tickOrientation": 'horizontal',
          "ticksSuffix": "mA"
        },
        "angularAxis": {
          "domain": [0,360],
          "visible": true,
          "gridLinesVisible": true,
          "labelsVisible": true,
          "tickOrientation": "horizontal",
          "ticksSuffix": "째"
        },
        "labelOffset": 15,
        "direction": "counterclockwise",
      },
    };

    //rendering both here
    micropolar.Axis()
      .config(polarTwoConfig)
      .render(d3.select('#chart-sub-polar2'))
    micropolar.Axis()
      .config(polarOneConfig)
      .render(d3.select('#chart-sub-polar1'));

  });



  </script>

  <script>
  // setting original values - NEEDS WORK, COULD JUST PUT IN FIRST FUNCTION
  var config = {
    "data": [
    // data for sum current cloud
    {
      "t": tValues,
      "r": rValues,
      "name": "Current Sum",
      "visible": true,
      "color": "blue",
      "geometry": "DotPlot",
    },
    //data for selected point
    {
      "t": [tValues[6]],
      "r": [rValues[6]],
      "name": "Selected Point",
      "visible": true,
      "color": "lightgreen",
      "geometry": "DotPlot",
    },
    //data for most recent point
    {
      "t": [tValues[10]],
      "r": [rValues[10]],
      "name": "Latest Value",
      "visible": true,
      "color": "orange",
      "geometry": "DotPlot",
    }],
    "layout": {
      "radialAxis": {
        "domain": [0,1],
        "orientation": -45,
        "visible": true,
        "gridLinesVisible": true,
        "tickOrientation": 'horizontal',
        "ticksSuffix": "mA"
      },
      "angularAxis": {
        "domain": [0,360],
        "visible": true,
        "gridLinesVisible": true,
        "labelsVisible": true,
        "tickOrientation": "horizontal",
        "ticksSuffix": "째"
      },
      "labelOffset": 15,
      "direction": "counterclockwise",
    },
  };
  micropolar.Axis()
    .config(config)
    .render(d3.select('#chart-sub-polar1'));
  </script>

  <script>
  // setting original phasor values - also needs work, same as above
  var t = [125, 1, 240]
  var r = [8, 8, 8]
  var config = {
    "data": [
    {
      "t": t,
      "r": r,
      "name": "Current Vectors",
      "visible": true,
      "color": "lightgreen",
      "geometry": "DotPlot",
    }],
    "layout": {
      "radialAxis": {
        "domain": [0,1.1],
        "orientation": -45,
        "visible": true,
        "gridLinesVisible": true,
        "tickOrientation": 'horizontal',
        "ticksSuffix": "mA"
      },
      "angularAxis": {
        "domain": [0,360],
        "visible": true,
        "gridLinesVisible": true,
        "labelsVisible": true,
        "tickOrientation": "horizontal",
        "ticksSuffix": "째"
      },
      "labelOffset": 15,
      "direction": "counterclockwise",
    },

  };
  micropolar.Axis()
    .config(config)
    .render(d3.select('#chart-sub-polar2'));
  </script>

</body>
</html>
