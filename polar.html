<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title></title>
    <script type='text/javascript' src="http://d3js.org/d3.v3.min.js"></script>
    <script type='text/javascript' src="http://micropolar.org/micropolar-v0.2.2.js"></script>
    <script type='text/javascript' src="https://code.jquery.com/jquery-2.1.4.js"></script>
    <link href="nouislider.min.css" rel="stylesheet">
    <style>
    .chart {display: inline;}
    body {
      background: #FDF5E7;
    }
    </style>
</head>
<body>
  <div id="drag-fixed"></div>
  <div class="chart" id="chart-sub-polar1"></div>
  <div class="chart" id="chart-sub-polar2"></div>
  <div id="table"> </div>
  <h3>Move slider handle to select a point from sum current chart. Phasor chart updates with associated timestamp and info table for values</h3>
  <script src="nouislider.min.js"></script>
  <script>

  // day data from methods
  var sumCurrentJSON = { "data" : [ { "date" : [ "2016-05-02 00:00:00", "2016-05-02 00:30:00", "2016-05-02 01:00:00", "2016-05-02 01:30:00", "2016-05-02 02:00:00", "2016-05-02 02:30:00", "2016-05-02 03:00:00", "2016-05-02 03:30:00", "2016-05-02 04:00:00",
  "2016-05-02 04:30:00", "2016-05-02 05:00:00", "2016-05-02 05:30:00", "2016-05-02 06:00:00", "2016-05-02 06:30:00", "2016-05-02 07:00:00", "2016-05-02 07:30:00", "2016-05-02 08:00:00", "2016-05-02 08:30:00", "2016-05-02 09:00:00", "2016-05-02 09:30:00",
  "2016-05-02 10:00:00", "2016-05-02 10:30:00", "2016-05-02 11:00:00", "2016-05-02 11:30:00", "2016-05-02 12:00:00", "2016-05-02 12:30:00", "2016-05-02 13:00:00", "2016-05-02 13:30:00", "2016-05-02 14:00:00", "2016-05-02 14:30:00", "2016-05-02 15:00:00",
  "2016-05-02 15:30:00", "2016-05-02 16:00:00", "2016-05-02 16:30:00", "2016-05-02 17:00:00", "2016-05-02 17:30:00", "2016-05-02 18:00:00", "2016-05-02 18:30:00", "2016-05-02 19:00:00", "2016-05-02 19:30:00", "2016-05-02 20:00:00", "2016-05-02 20:30:00",
  "2016-05-02 21:00:00", "2016-05-02 21:30:00", "2016-05-02 22:00:00", "2016-05-02 22:30:00", "2016-05-02 23:00:00", "2016-05-02 23:30:00" ], "name" : "Sum Currents", "r" : [ 0.75724, 0.76338, 0.76477, 0.76874, 0.77104, 0.77891, 0.78136, 0.78407, 0.78554,
  0.79378, 0.79403, 0.79173, 0.78614, 0.79526, 0.84121, 0.84763, 0.84369, 0.88172, 0.88735, 0.90574, 0.90493, 0.90754, 0.89762, 0.91412, 0.91343, 0.90759, 0.90225, 0.8966, 0.90166, 0.90724, 0.89214, 0.88926, 0.89467, 0.90199, 0.91653, 0.91151, 0.92636,
  0.92866, 0.9227, 0.91114, 0.90806, 0.92088, 0.93858, 0.92689, 0.91435, 0.89521, 0.9006, 0.91527 ], "t" : [ 9.385, 10.32, 10.101, 9.3866, 9.7304, 9.2528, 8.3991, 8.0882, 7.6236, 7.5876, 7.4775, 6.6225, 5.4075, 5.001, 3.8733, 4.5764, 5.5695, 1.9103, 1.9403,
  2.2018, 1.9526, 2.0755, 1.3842, 0.72043, 1.1527, 359.8, 0.56662, 1.0124, 1.1095, 1.0485, 1.7811, 1.8314, 1.5764, 0.41049, 359.61, 359.31, 358.31, 358.19, 358.9, 359.61, 357.3, 359.04, 358.48, 359.08, 0.038246, 0.42995, 0.43296, 359.8 ] } ] }

  var phasorJSON = {
   "data" : [ { "name" : "I-Blue", "r" : [ 60.376, 60.309, 60.438, 60.43, 60.51, 60.425, 60.503, 60.43, 60.542, 60.724, 60.515, 60.739, 60.497, 60.838, 61.929, 62.065, 62.043, 61.91, 61.749, 61.63, 61.746, 61.877, 61.762, 61.862, 62.184, 62.021, 62.236,
  62.351, 62.432, 62.267, 62.562, 62.415, 62.186, 62.116, 62.163, 62.305, 62.318, 62.37, 61.729, 61.593, 60.846, 61.324, 61.524, 61.665, 61.29, 61.3, 61.351, 61.432 ], "t" : [ 239.89, 239.9, 239.9, 239.88, 239.91, 239.91, 239.88, 239.89, 239.89, 239.88,
  239.9, 239.85, 239.84, 239.83, 239.85, 239.9, 239.89, 239.8, 239.81, 239.82, 239.83, 239.82, 239.86, 239.85, 239.82, 239.81, 239.8, 239.81, 239.81, 239.84, 239.83, 239.83, 239.84, 239.79, 239.81, 239.79, 239.77, 239.79, 239.75, 239.76, 239.76, 239.77,
  239.76, 239.76, 239.76, 239.77, 239.78, 239.76 ], "type" : "1" }, { "name" : "I-Red", "r" : [ 60.439, 60.387, 60.515, 60.479, 60.592, 60.51, 60.546, 60.48, 60.577, 60.747, 60.542, 60.719, 60.437, 60.774, 61.844, 62.037, 62.03, 61.705, 61.538, 61.444,
  61.57, 61.71, 61.602, 61.673, 61.974, 61.773, 61.986, 62.139, 62.214, 62.077, 62.389, 62.225, 62.015, 61.886, 61.916, 62.05, 61.999, 62.075, 61.403, 61.324, 60.512, 61.036, 61.22, 61.384, 61.028, 61.054, 61.12, 61.155 ], "t" : [ 119.98, 119.97, 119.97,
  119.96, 119.98, 119.99, 119.97, 119.98, 119.97, 119.96, 119.95, 119.94, 119.93, 119.93, 119.91, 119.93, 119.94, 119.81, 119.8, 119.81, 119.83, 119.85, 119.85, 119.83, 119.81, 119.8, 119.79, 119.82, 119.81, 119.82, 119.85, 119.82, 119.84, 119.83, 119.81,
  119.83, 119.77, 119.79, 119.76, 119.82, 119.78, 119.8, 119.79, 119.81, 119.81, 119.82, 119.83, 119.8 ], "type" : "1" }, { "name" : "I-Yellow", "r" : [ 61.244, 61.169, 61.293, 61.284, 61.373, 61.306, 61.375, 61.314, 61.402, 61.598, 61.356, 61.601, 61.331,
  61.686, 62.781, 62.917, 62.916, 62.701, 62.526, 62.432, 62.57, 62.724, 62.569, 62.662, 62.985, 62.797, 63.003, 63.152, 63.22, 63.059, 63.387, 63.202, 62.995, 62.937, 62.96, 63.131, 63.085, 63.157, 62.493, 62.424, 61.608, 62.129, 62.339, 62.5, 62.125,
  62.119, 62.183, 62.245 ], "t" : [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], "type" : "1" } ],
  "date" : [ "2016-05-02 00:00:00", "2016-05-02 00:30:00", "2016-05-02 01:00:00", "2016-05-02 01:30:00", "2016-05-02 02:00:00", "2016-05-02 02:30:00", "2016-05-02 03:00:00", "2016-05-02 03:30:00", "2016-05-02 04:00:00", "2016-05-02 04:30:00", "2016-05-02 05:00:00",
  "2016-05-02 05:30:00", "2016-05-02 06:00:00", "2016-05-02 06:30:00", "2016-05-02 07:00:00", "2016-05-02 07:30:00", "2016-05-02 08:00:00", "2016-05-02 08:30:00", "2016-05-02 09:00:00", "2016-05-02 09:30:00", "2016-05-02 10:00:00", "2016-05-02 10:30:00",
  "2016-05-02 11:00:00", "2016-05-02 11:30:00", "2016-05-02 12:00:00", "2016-05-02 12:30:00", "2016-05-02 13:00:00", "2016-05-02 13:30:00", "2016-05-02 14:00:00", "2016-05-02 14:30:00", "2016-05-02 15:00:00", "2016-05-02 15:30:00", "2016-05-02 16:00:00",
  "2016-05-02 16:30:00", "2016-05-02 17:00:00", "2016-05-02 17:30:00", "2016-05-02 18:00:00", "2016-05-02 18:30:00", "2016-05-02 19:00:00", "2016-05-02 19:30:00", "2016-05-02 20:00:00", "2016-05-02 20:30:00", "2016-05-02 21:00:00", "2016-05-02 21:30:00",
  "2016-05-02 22:00:00", "2016-05-02 22:30:00", "2016-05-02 23:00:00", "2016-05-02 23:30:00" ] }

  var sumCurrentData = sumCurrentJSON['data'][0];
  var sumCurrentDates = sumCurrentData['date'];
  var sumCurrentRValues = sumCurrentData['r'];
  var sumCurrentTValues = sumCurrentData['t'];

  var phasorData = phasorJSON['data'];
  var phasorBlueData = phasorData[0];
  var phasorBlueTData = phasorBlueData["t"];
  var phasorBlueRData = phasorBlueData["r"];
  var phasorRedData = phasorData[1];
  var phasorRedTData = phasorRedData["t"];
  var phasorRedRData = phasorRedData["r"];
  var phasorYellowData = phasorData[2];
  var phasorYellowTData = phasorYellowData["t"];
  var phasorYellowRData = phasorYellowData["r"];
  var sliderLength = sumCurrentDates.length - 1;
  console.log(phasorYellowRData);



  // real sample data from VM

  var timestamps = [
  "2016-05-05 00:00:00", "2016-05-05 00:30:00", "2016-05-05 01:00:00", "2016-05-05 01:30:00", "2016-05-05 02:00:00", "2016-05-05 02:30:00", "2016-05-05 03:00:00", "2016-05-05 03:30:00", "2016-05-05 04:00:00", "2016-05-05 04:30:00", "2016-05-05 05:00:00",
  "2016-05-05 05:30:00", "2016-05-05 06:00:00", "2016-05-05 06:30:00", "2016-05-05 07:00:00", "2016-05-05 07:30:00", "2016-05-05 08:00:00", "2016-05-05 08:30:00", "2016-05-05 09:00:00", "2016-05-05 09:30:00", "2016-05-05 10:00:00", "2016-05-05 10:30:00",
  "2016-05-05 11:00:00", "2016-05-05 11:30:00", "2016-05-05 12:00:00", "2016-05-05 12:30:00", "2016-05-05 13:00:00", "2016-05-05 13:30:00", "2016-05-05 14:00:00", "2016-05-05 14:30:00", "2016-05-05 15:00:00", "2016-05-05 15:30:00", "2016-05-05 16:00:00",
  "2016-05-05 16:30:00", "2016-05-05 17:00:00", "2016-05-05 17:30:00", "2016-05-05 18:00:00", "2016-05-05 18:30:00", "2016-05-05 19:00:00", "2016-05-05 19:30:00", "2016-05-05 20:00:00", "2016-05-05 20:30:00", "2016-05-05 21:00:00", "2016-05-05 21:30:00",
  "2016-05-05 22:00:00", "2016-05-05 22:30:00", "2016-05-05 23:00:00", "2016-05-05 23:30:00", "2016-05-06 00:00:00", "2016-05-06 00:30:00", "2016-05-06 01:00:00", "2016-05-06 01:30:00", "2016-05-06 02:00:00", "2016-05-06 02:30:00", "2016-05-06 03:00:00",
  "2016-05-06 03:30:00", "2016-05-06 04:00:00", "2016-05-06 04:30:00", "2016-05-06 05:00:00", "2016-05-06 05:30:00", "2016-05-06 06:00:00", "2016-05-06 06:30:00", "2016-05-06 07:00:00", "2016-05-06 07:30:00", "2016-05-06 08:00:00", "2016-05-06 08:30:00",
  "2016-05-06 09:00:00", "2016-05-06 09:30:00", "2016-05-06 10:00:00", "2016-05-06 10:30:00", "2016-05-06 11:00:00", "2016-05-06 11:30:00", "2016-05-06 12:00:00", "2016-05-06 12:30:00", "2016-05-06 13:00:00", "2016-05-06 13:30:00", "2016-05-06 14:00:00",
  "2016-05-06 14:30:00", "2016-05-06 15:00:00", "2016-05-06 15:30:00", "2016-05-06 16:00:00", "2016-05-06 16:30:00", "2016-05-06 17:00:00", "2016-05-06 17:30:00", "2016-05-06 18:00:00", "2016-05-06 18:30:00", "2016-05-06 19:00:00", "2016-05-06 19:30:00",
  "2016-05-06 20:00:00", "2016-05-06 20:30:00", "2016-05-06 21:00:00", "2016-05-06 21:30:00", "2016-05-06 22:00:00", "2016-05-06 22:30:00", "2016-05-06 23:00:00", "2016-05-06 23:30:00", "2016-05-07 00:00:00", "2016-05-07 00:30:00", "2016-05-07 01:00:00",
  "2016-05-07 01:30:00", "2016-05-07 02:00:00", "2016-05-07 02:30:00", "2016-05-07 03:00:00", "2016-05-07 03:30:00", "2016-05-07 04:00:00", "2016-05-07 04:30:00", "2016-05-07 05:00:00", "2016-05-07 05:30:00", "2016-05-07 06:00:00", "2016-05-07 06:30:00",
  "2016-05-07 07:00:00", "2016-05-07 07:30:00", "2016-05-07 08:00:00", "2016-05-07 08:30:00", "2016-05-07 09:00:00", "2016-05-07 09:30:00", "2016-05-07 10:00:00", "2016-05-07 10:30:00", "2016-05-07 11:00:00", "2016-05-07 11:30:00", "2016-05-07 12:00:00",
  "2016-05-07 12:30:00", "2016-05-07 13:00:00", "2016-05-07 13:30:00", "2016-05-07 14:00:00", "2016-05-07 14:30:00", "2016-05-07 15:00:00", "2016-05-07 15:30:00", "2016-05-07 16:00:00", "2016-05-07 16:30:00", "2016-05-07 17:00:00", "2016-05-07 17:30:00",
  "2016-05-07 18:00:00", "2016-05-07 18:30:00", "2016-05-07 19:00:00", "2016-05-07 19:30:00", "2016-05-07 20:00:00", "2016-05-07 20:30:00", "2016-05-07 21:00:00", "2016-05-07 21:30:00", "2016-05-07 22:00:00", "2016-05-07 22:30:00", "2016-05-07 23:00:00",
  "2016-05-07 23:30:00", "2016-05-08 00:00:00", "2016-05-08 00:30:00", "2016-05-08 01:00:00", "2016-05-08 01:30:00", "2016-05-08 02:00:00", "2016-05-08 02:30:00", "2016-05-08 03:00:00", "2016-05-08 03:30:00", "2016-05-08 04:00:00", "2016-05-08 04:30:00",
  "2016-05-08 05:00:00", "2016-05-08 05:30:00", "2016-05-08 06:00:00", "2016-05-08 06:30:00", "2016-05-08 07:00:00", "2016-05-08 07:30:00", "2016-05-08 08:00:00", "2016-05-08 08:30:00", "2016-05-08 09:00:00", "2016-05-08 09:30:00", "2016-05-08 10:00:00",
  "2016-05-08 10:30:00", "2016-05-08 11:00:00", "2016-05-08 11:30:00", "2016-05-08 12:00:00", "2016-05-08 12:30:00", "2016-05-08 13:00:00", "2016-05-08 13:30:00", "2016-05-08 14:00:00", "2016-05-08 14:30:00", "2016-05-08 15:00:00", "2016-05-08 15:30:00",
  "2016-05-08 16:30:00", "2016-05-08 17:00:00", "2016-05-08 17:30:00", "2016-05-08 18:30:00", "2016-05-08 19:00:00", "2016-05-08 19:30:00", "2016-05-08 20:00:00", "2016-05-08 21:00:00", "2016-05-08 21:30:00", "2016-05-08 22:00:00", "2016-05-08 23:00:00",
  "2016-05-08 23:30:00", "2016-05-09 00:00:00", "2016-05-09 01:00:00", "2016-05-09 01:30:00", "2016-05-09 02:00:00", "2016-05-09 02:30:00", "2016-05-09 03:30:00", "2016-05-09 04:00:00", "2016-05-09 04:30:00", "2016-05-09 05:30:00", "2016-05-09 06:00:00",
  "2016-05-09 06:30:00", "2016-05-09 07:30:00", "2016-05-09 08:00:00", "2016-05-09 08:30:00", "2016-05-09 09:30:00", "2016-05-09 10:00:00", "2016-05-09 10:30:00", "2016-05-09 11:30:00", "2016-05-09 12:00:00", "2016-05-09 12:30:00", "2016-05-09 13:30:00",
  "2016-05-09 14:00:00", "2016-05-09 14:30:00", "2016-05-09 15:30:00", "2016-05-09 16:00:00", "2016-05-09 16:30:00", "2016-05-09 17:30:00", "2016-05-09 18:00:00", "2016-05-09 18:30:00", "2016-05-09 19:30:00", "2016-05-09 20:00:00", "2016-05-09 20:30:00",
  "2016-05-09 21:30:00", "2016-05-09 22:00:00", "2016-05-09 22:30:00", "2016-05-09 23:30:00", "2016-05-10 00:00:00", "2016-05-10 00:30:00", "2016-05-10 01:30:00", "2016-05-10 02:00:00", "2016-05-10 02:30:00", "2016-05-10 03:30:00", "2016-05-10 04:00:00",
  "2016-05-10 05:00:00", "2016-05-10 05:30:00", "2016-05-10 06:00:00", "2016-05-10 07:00:00", "2016-05-10 07:30:00", "2016-05-10 08:00:00", "2016-05-10 09:00:00", "2016-05-10 09:30:00", "2016-05-10 10:30:00", "2016-05-10 11:00:00", "2016-05-10 11:30:00",
  "2016-05-10 12:30:00", "2016-05-10 13:00:00", "2016-05-10 13:30:00", "2016-05-10 14:30:00", "2016-05-10 15:00:00", "2016-05-10 16:00:00", "2016-05-10 16:30:00", "2016-05-10 17:00:00", "2016-05-10 18:00:00", "2016-05-10 18:30:00", "2016-05-10 19:30:00",
  "2016-05-10 20:00:00", "2016-05-10 20:30:00", "2016-05-10 21:30:00", "2016-05-10 22:00:00", "2016-05-10 23:00:00", "2016-05-10 23:30:00", "2016-05-11 00:30:00", "2016-05-11 01:00:00", "2016-05-11 01:30:00", "2016-05-11 02:30:00", "2016-05-11 03:00:00",
  "2016-05-11 04:00:00", "2016-05-11 04:30:00", "2016-05-11 05:30:00", "2016-05-11 06:00:00", "2016-05-11 06:30:00", "2016-05-11 07:30:00", "2016-05-11 08:00:00", "2016-05-11 09:00:00", "2016-05-11 09:30:00", "2016-05-11 10:30:00", "2016-05-11 11:00:00",
  "2016-05-11 12:00:00", "2016-05-11 12:30:00", "2016-05-11 13:30:00", "2016-05-11 14:00:00", "2016-05-11 15:00:00", "2016-05-11 15:30:00", "2016-05-11 16:30:00", "2016-05-11 17:00:00", "2016-05-11 18:00:00", "2016-05-11 18:30:00", "2016-05-11 19:30:00",
  "2016-05-11 20:00:00", "2016-05-11 21:00:00", "2016-05-11 21:30:00", "2016-05-11 22:30:00", "2016-05-11 23:30:00", "2016-05-12 00:00:00", "2016-05-12 01:00:00", "2016-05-12 01:30:00", "2016-05-12 02:30:00", "2016-05-12 03:00:00", "2016-05-12 04:00:00",
  "2016-05-12 04:30:00", "2016-05-12 05:30:00", "2016-05-12 06:00:00", "2016-05-12 07:00:00", "2016-05-12 07:30:00", "2016-05-12 08:30:00", "2016-05-12 09:00:00", "2016-05-12 10:00:00", "2016-05-12 11:00:00", "2016-05-12 11:30:00", "2016-05-12 12:30:00",
  "2016-05-12 13:00:00", "2016-05-12 14:00:00", "2016-05-12 14:30:00", "2016-05-12 15:30:00", "2016-05-12 16:30:00", "2016-05-12 17:00:00", "2016-05-12 18:00:00", "2016-05-12 19:00:00", "2016-05-12 19:30:00", "2016-05-12 20:30:00", "2016-05-12 21:00:00",
  "2016-05-12 22:00:00", "2016-05-12 23:00:00", "2016-05-12 23:30:00", "2016-05-13 00:30:00", "2016-05-13 01:30:00", "2016-05-13 02:00:00", "2016-05-13 03:00:00", "2016-05-13 04:00:00", "2016-05-13 04:30:00", "2016-05-13 05:30:00", "2016-05-13 06:30:00",
  "2016-05-13 07:00:00", "2016-05-13 08:00:00", "2016-05-13 09:00:00", "2016-05-13 10:00:00", "2016-05-13 10:30:00", "2016-05-13 11:30:00", "2016-05-13 12:30:00", "2016-05-13 13:00:00", "2016-05-13 14:00:00", "2016-05-13 15:00:00", "2016-05-13 16:00:00",
  "2016-05-13 16:30:00", "2016-05-13 17:30:00", "2016-05-13 18:30:00", "2016-05-13 19:00:00", "2016-05-13 20:00:00", "2016-05-13 21:00:00", "2016-05-13 22:00:00", "2016-05-13 22:30:00", "2016-05-13 23:30:00", "2016-05-14 00:30:00", "2016-05-14 01:30:00",
  "2016-05-14 02:30:00", "2016-05-14 03:00:00", "2016-05-14 04:00:00", "2016-05-14 05:00:00", "2016-05-14 06:00:00", "2016-05-14 07:00:00", "2016-05-14 07:30:00", "2016-05-14 08:30:00", "2016-05-14 09:30:00", "2016-05-14 10:30:00", "2016-05-14 11:30:00",
  "2016-05-14 12:30:00", "2016-05-14 13:00:00", "2016-05-14 14:00:00", "2016-05-14 15:00:00", "2016-05-14 16:00:00", "2016-05-14 17:00:00", "2016-05-14 18:00:00", "2016-05-14 18:30:00", "2016-05-14 19:30:00", "2016-05-14 20:30:00", "2016-05-14 21:30:00",
  "2016-05-14 22:30:00", "2016-05-14 23:30:00", "2016-05-15 00:30:00", "2016-05-15 01:30:00", "2016-05-15 02:30:00", "2016-05-15 03:30:00", "2016-05-15 04:00:00", "2016-05-15 05:00:00", "2016-05-15 06:00:00", "2016-05-15 07:00:00", "2016-05-15 08:00:00",
  "2016-05-15 09:00:00", "2016-05-15 10:00:00", "2016-05-15 11:00:00", "2016-05-15 12:00:00", "2016-05-15 13:00:00", "2016-05-15 14:00:00", "2016-05-15 15:00:00", "2016-05-15 16:00:00", "2016-05-15 17:00:00", "2016-05-15 18:00:00", "2016-05-15 19:00:00",
  "2016-05-15 20:00:00", "2016-05-15 21:00:00", "2016-05-15 22:00:00", "2016-05-15 23:00:00", "2016-05-16 00:00:00",];

  // sum current sample data from vm
  var tValues = [
  0.66918, 1.036, 0.96048, 0.91581, 0.95711, 0.60386, 0.96845, 1.2804, 0.68139, 0.51874, 2.3009, 1.8561, 1.8896, 0.88151, 1.1415, 1.4664, 1.0021, 0.75437, 0.19048, 0.47371, 0.18701, 0.65861, 0.68872, 0.83891, 1.6324, 1.7522, 1.3308, 1.6362, 1.8713, 1.6216,
  2.8227, 3.4641, 3.5203, 3.8127, 3.6912, 4.2017, 4.0849, 3.0368, 2.9901, 3.3746, 3.3695, 4.7817, 4.9228, 6.4753, 6.184, 6.8206, 7.9867, 8.5535, 8.4294, 8.3405, 8.0312, 8.2866, 9.0577, 8.6144, 8.8022, 8.6068, 8.6999, 8.4213, 8.6927, 8.0338, 6.5738, 5.8933,
  5.9012, 6.3809, 6.3236, 5.9035, 7.6508, 7.6227, 7.6323, 7.9435, 7.799, 8.1382, 8.2934, 7.7378, 7.8477, 8.3932, 8.6351, 9.1566, 9.5984, 8.5341, 7.7749, 7.6386, 7.0047, 7.2641, 6.176, 6.0458, 5.9825, 5.4848, 6.2798, 6.3692, 6.9692, 7.9903, 6.8625, 6.8622,
  5.9841, 5.7832, 5.7177, 6.2914, 5.943, 5.5545, 5.3397, 5.5296, 5.5535, 5.4858, 5.7876, 5.8448, 5.517, 5.3587, 4.427, 3.5636, 3.5468, 2.3458, 1.1304, 0.55903, 0.3715, 0.3595, 0.041904, 0.49876, 0.19708, 359.99, 1.4232, 1.6396, 1.5318, 1.2452, 1.4176, 2.0985,
  1.824, 2.3516, 0.86754, 359.62, 357.58, 356.18, 355.96, 356.56, 356.33, 356.72, 356.95, 357.4, 358.39, 358.22, 359.44, 359.17, 0.77532, 1.9862, 2.9786, 3.1219, 3.0817, 4.1138, 2.8782, 3.1145, 3.6694, 3.6001, 3.9514, 4.007, 4.1533, 4.5687, 4.078, 3.9389,
  3.5458, 3.7034, 3.2071, 3.8981, 3.5143, 3.4978, 2.1715, 2.2223, 1.9043, 2.0761, 1.3102, 1.2191, 2.354, 1.8042, 2.2764, 1.1631, 0.89076, 0.66088, 0.44167, 0.10762, 359.69, 358.87, 358.83, 358.97, 358.2, 359.22, 0.36201, 1.5397, 1.5803, 2.2065, 3.1882,
  3.0368, 3.1242, 3.0331, 2.9645, 3.464, 3.0101, 2.79, 1.6644, 2.6337, 2.7123, 2.9819, 0.92272, 0.10227, 0.014321, 359.8, 359.44, 359.06, 359.06, 358.82, 357.66, 357.12, 358.07, 356.28, 355.09, 355.07, 355.21, 355.51, 355.94, 355.92, 355.16, 356.02, 356.36,
  356.51, 356.93, 358.37, 0.40193, 0.67179, 0.20954, 1.4086, 1.2587, 1.4887, 1.0427, 0.98893, 359.47, 359.58, 356.59, 355.85, 355.13, 353.1, 353.71, 353.48, 353.9, 353.56, 354.48, 354.07, 353.57, 353.98, 353.68, 354.9, 354.67, 354.71, 355.31, 355.19, 356.13,
  354.55, 355.16, 355.12, 355.29, 357.45, 358.93, 0.28203, 0.14769, 359.8, 0.40964, 359.96, 0.40707, 1.0627, 359.91, 357.65, 355.73, 355.29, 354.55, 353.52, 353.02, 352.62, 352.86, 353.01, 353.7, 354.28, 354.87, 354.96, 356.04, 356.06, 356.73, 354.48, 355.05,
  355.46, 354.85, 355.98, 357.14, 359.35, 2.0004, 1.5752, 1.5664, 0.81593, 1.5613, 1.8305, 1.2697, 1.1636, 359.25, 358.51, 357.9, 358.4, 356.96, 356.54, 356.75, 357.45, 357.12, 357.9, 357.35, 357.92, 357.58, 358.78, 357.54, 356.84, 356.59, 356.97, 357.62,
  356.57, 357.77, 0.46626, 359.3, 0.15432, 0.85938, 1.537, 2.0426, 2.6456, 2.2803, 1.9732, 0.55344, 358.77, 357.6, 0.2305, 0.39586, 1.2344, 1.6416, 2.5166, 2.2915, 2.1941, 0.54442, 359.6, 358.18, 358, 357.66, 357.68, 358.1, 359.09, 1.9782, 1.7753, 3.8466,
  3.3788, 4.1494, 4.7013, 4.6099, 5.0557, 4.9804, 5.4047, 4.6901, 3.8234, 1.5204, 359.72, 359.21, 0.49857, 1.3878, 1.595, 1.7478, 2.1448, 2.5562, 1.5828, 0.67032, 1.1858, 1.4134, 1.3281, 0.75863, 3.688, 4.155, 4.7555, 4.9916, 4.2111, 5.0355, 5.7126, 5.8808,
  6.1438, 6.7955, 6.8486, 5.0842, 3.4192, 4.0834, 3.5027, 3.1332, 3.2906, 3.0568, 2.2465, 1.735, 1.6695, 1.0562, 1.2939, 1.4396, 2.7538, 5.4563, 8.3014, 5.4563
  ];
  var rValues = [
  0.99882, 0.99663, 0.99425, 1.0029, 1.0012, 1.0059, 0.99352, 0.99423, 0.99343, 0.98721, 0.96291, 0.95716, 0.96901, 0.9752, 0.98464, 0.98475, 0.98548, 0.99092, 0.98794, 0.97723, 0.98526, 0.98033, 0.97524, 0.97652, 0.96455, 0.95702, 0.96286, 0.96018,
  0.95814, 0.95748, 0.95025, 0.94264, 0.95415, 0.94704, 0.94783, 0.96194, 0.93901, 0.93081, 0.9341, 0.92645, 0.92183, 0.91551, 0.93401, 0.9366, 0.93836, 0.92421, 0.88093, 0.88714, 0.88238, 0.88254, 0.87482, 0.87792, 0.87692, 0.87315, 0.8729, 0.87254, 0.86992,
  0.86764, 0.84931, 0.86122, 0.88564, 0.89631, 0.89401, 0.90316, 0.90965, 0.91171, 0.89976, 0.91237, 0.90588, 0.90962, 0.91312, 0.90425, 0.89619, 0.88893, 0.89182, 0.88665, 0.87168, 0.8801, 0.88556, 0.89639, 0.88314, 0.88113, 0.87564, 0.88104, 0.86377,
  0.86041, 0.85484, 0.854, 0.85129, 0.8519, 0.85005, 0.84071, 0.8451, 0.83285, 0.83621, 0.84229, 0.84616, 0.81753, 0.81732, 0.82187, 0.82143, 0.81841, 0.8184, 0.81514, 0.80757, 0.80711, 0.80741, 0.78805, 0.78395, 0.78367, 0.79941, 0.81495, 0.82392, 0.83904,
  0.84072, 0.84265, 0.84496, 0.837, 0.84063, 0.83023, 0.81186, 0.80458, 0.80871, 0.81135, 0.80967, 0.80497, 0.81163, 0.80866, 0.82815, 0.83928, 0.83429, 0.82636, 0.82208, 0.80854, 0.80618, 0.80157, 0.79822, 0.78468, 0.79705, 0.80515, 0.79981, 0.80073, 0.7716,
  0.76295, 0.75806, 0.76265, 0.76515, 0.7486, 0.75553, 0.76024, 0.75515, 0.75654, 0.75557, 0.75536, 0.76278, 0.75826, 0.75292, 0.73975, 0.74059, 0.73953, 0.74711, 0.74047, 0.74916, 0.75188, 0.75498, 0.77324, 0.77614, 0.77017, 0.76809, 0.76652, 0.75507,
  0.75834, 0.75623, 0.7594, 0.75675, 0.75803, 0.75417, 0.7535, 0.73289, 0.74133, 0.74563, 0.74067, 0.73221, 0.74435, 0.7402, 0.7394, 0.72869, 0.72616, 0.73069, 0.73642, 0.73963, 0.73795, 0.73887, 0.73255, 0.73291, 0.73637, 0.72499, 0.73787, 0.74317, 0.76909,
  0.77602, 0.78008, 0.77838, 0.78627, 0.78357, 0.79165, 0.78601, 0.78818, 0.79871, 0.80181, 0.78579, 0.7911, 0.78995, 0.77791, 0.80069, 0.7873, 0.78491, 0.79912, 0.79172, 0.79598, 0.79319, 0.77466, 0.79454, 0.77376, 0.7488, 0.74018, 0.7479, 0.74968, 0.74706,
  0.75281, 0.75802, 0.76319, 0.76071, 0.77185, 0.81696, 0.84718, 0.853, 0.87245, 0.86391, 0.86439, 0.87148, 0.86744, 0.86532, 0.87045, 0.87561, 0.86095, 0.87208, 0.8513, 0.86757, 0.87117, 0.83953, 0.84502, 0.84074, 0.84993, 0.83593, 0.80257, 0.79225, 0.79716,
  0.79954, 0.79899, 0.79765, 0.80374, 0.80088, 0.79396, 0.79681, 0.78964, 0.78503, 0.81468, 0.82621, 0.85319, 0.86369, 0.88194, 0.89381, 0.89719, 0.88143, 0.88626, 0.88355, 0.86402, 0.86757, 0.86355, 0.84934, 0.8534, 0.84713, 0.84567, 0.84308, 0.85016,
  0.84725, 0.82288, 0.80976, 0.79337, 0.77973, 0.79017, 0.79783, 0.79749, 0.79033, 0.80049, 0.79811, 0.79495, 0.7903, 0.7897, 0.81802, 0.82565, 0.84333, 0.85598, 0.83115, 0.83097, 0.83394, 0.82978, 0.82542, 0.83098, 0.83275, 0.82368, 0.83327, 0.8359, 0.83782,
  0.83992, 0.82735, 0.84329, 0.85154, 0.80019, 0.8435, 0.83278, 0.83347, 0.82019, 0.81459, 0.83106, 0.83362, 0.84156, 0.82974, 0.85308, 0.85865, 0.85149, 0.85527, 0.84716, 0.84505, 0.84044, 0.8457, 0.84058, 0.82422, 0.82735, 0.83855, 0.84872, 0.84696, 0.83105,
  0.84395, 0.83337, 0.82076, 0.82044, 0.79585, 0.80286, 0.80631, 0.80375, 0.8046, 0.80702, 0.81131, 0.80562, 0.79059, 0.79615, 0.84482, 0.87064, 0.87158, 0.87986, 0.87873, 0.86493, 0.86023, 0.85058, 0.84557, 0.85433, 0.86864, 0.83006, 0.824, 0.82538, 0.84561,
  0.81391, 0.81016, 0.79756, 0.81051, 0.82318, 0.82154, 0.82125, 0.81946, 0.8256, 0.81107, 0.79764, 0.79441, 0.80942, 0.83361, 0.84022, 0.85174, 0.84175, 0.84004, 0.84724, 0.85048, 0.86758, 0.86852, 0.85749, 0.85503, 0.85505, 0.80718, 0.78077, 0.80716
  ];
  // phasor sample data from vm
  var blueRValues = [ 61.694, 61.54, 61.607, 61.612, 61.539, 61.401, 61.22, 61.007, 61.079, 61.194, 61.063, 61.912, 61.829, 61.968, 61.913, 61.844, 61.764, 61.767, 61.836, 61.724, 61.787, 61.894, 61.796, 62.008, 62.014, 62.015, 62.015, 61.916, 62.125,
  62.06, 61.93, 61.905, 61.996, 61.997, 62.098, 62.15, 61.562, 61.534, 61.537, 61.353, 61.406, 61.577, 61.591, 60.873, 60.84, 61.513, 61.1, 60.953, 61.259, 61.112, 61.378, 61.179, 61.394, 61.188, 61.332, 61.353, 61.35, 61.371, 61.337, 61.345, 62.278, 61.552,
  61.597, 61.732, 61.764, 61.65, 61.695, 61.722, 61.494, 61.797, 61.749, 61.814, 61.912, 62.101, 61.997, 62.075, 62.246, 62.392, 62.307, 62.432, 61.724, 61.898, 61.685, 62.013, 61.897, 61.828, 61.797, 61.906, 61.737, 61.676, 61.842, 61.743, 61.844, 61.83,
  62.085, 62.014, 61.87, 61.558, 61.35, 61.472, 61.465, 61.481, 61.638, 61.686, 61.646, 61.964, 61.835, 61.672, 61.548, 61.314, 61.445, 61.65, 61.338, 61.718, 61.792, 61.762, 61.647, 61.763, 61.848, 61.927, 62.058, 62.18, 62.415, 62.268, 62.289, 62.261,
  62.26, 61.973, 62.297, 62.045, 61.919, 61.888, 62.14, 62.205, 62.216, 62.136, 62.134, 62.103, 61.275, 61.485, 61.458, 61.153, 61.296, 61.515, 61.536, 61.62, 61.65, 61.602, 61.557, 61.549, 61.346, 61.492, 61.447, 61.908, 61.82, 61.76, 61.682, 61.755, 61.63,
  61.443, 61.535, 61.044, 61.042, 60.927, 60.885, 61.433, 61.321, 61.337, 61.512, 61.599, 61.759, 61.869, 61.827, 61.759, 61.726, 61.677, 61.627, 61.527, 61.045, 61.147, 61.155, 61.223, 60.735, 60.925, 60.919, 61.051, 61.273, 61.397, 60.961, 61.066, 61.123,
  61.039, 61.121, 61.026, 61.047, 61.122, 61.263, 61.667, 61.412, 61.813, 61.504, 61.537, 61.613, 61.621, 61.409, 61.747, 61.567, 61.695, 61.698, 61.819, 61.686, 61.815, 61.606, 61.798, 62.608, 62.712, 62.55, 62.649, 62.293, 62.055, 61.631, 61.859, 61.822,
  62.182, 61.867, 61.759, 61.783, 61.933, 61.764, 61.91, 61.906, 61.708, 61.616, 61.644, 62.066, 63.209, 63.068, 62.75, 62.823, 62.488, 62.504, 62.793, 62.559, 62.664, 62.988, 62.948, 62.742, 63.016, 63.067, 63.261, 62.576, 62.585, 62.197, 62.003, 61.947,
  61.695, 62.041, 62.351, 61.734, 61.926, 61.842, 61.83, 61.789, 61.819, 61.819, 61.924, 61.477, 62.04, 62.055, 62.246, 62.324, 62.22, 62.257, 62.199, 62.256, 62.388, 62.565, 62.458, 62.799, 62.639, 62.548, 62.549, 62.496, 61.78, 61.984, 61.889, 61.548,
  61.779, 62.117, 61.946, 61.496, 61.574, 61.71, 61.443, 61.605, 61.689, 61.806, 61.771, 61.524, 61.871, 62.29, 62.329, 62.067, 62.076, 61.918, 62.062, 62.255, 62.264, 62.21, 62.298, 62.357, 62.325, 61.888, 61.868, 61.733, 61.709, 61.536, 61.238, 61.409,
  62.074, 62.097, 62.272, 62.512, 62.522, 62.498, 61.693, 61.753, 61.803, 61.59, 61.847, 61.592, 62.025, 62.051, 61.902, 62.081, 62.037, 62.217, 62.168, 61.832, 61.709, 61.401, 61.714, 61.572, 61.639, 61.678, 61.105, 61.296, 61.146, 61.056, 60.864, 61.196,
  61.143, 60.979, 61.089, 61.318, 61.125, 61.035, 61.184, 61.545, 61.179, 61.257, 61.644, 61.646, 61.822, 62.103, 62.194, 62.414, 61.97, 61.805, 60.958, 60.938, 61.21, 60.172, 60.281, 60.685, 60.712, 61.15, 61.111, 61.189, 61.15, 61.231, 61.562, 61.525,
  61.374, 61.306, 60.916, 61.027, 61.11, 61.226, 61.356, 61.421, 61.285, 61.089, 61.364, 61.137, 60.409, 60.366, 60.681, 60.273, 60.249, 60.249 ];
  var blueTValues = [ 239.8, 239.83, 239.79, 239.79, 239.8, 239.82, 239.8, 239.8, 239.79, 239.78, 239.8, 239.81,
  239.78, 239.83, 239.81, 239.84, 239.8, 239.82, 239.81, 239.81, 239.82, 239.84, 239.82, 239.82, 239.83, 239.84, 239.86, 239.84, 239.84, 239.85, 239.87, 239.88, 239.89, 239.87, 239.87, 239.88, 239.89, 239.85, 239.86, 239.89, 239.88, 239.87, 239.92, 239.89,
  239.9, 239.89, 239.89, 239.9, 239.9, 239.91, 239.9, 239.93, 239.9, 239.92, 239.9, 239.91, 239.91, 239.88, 239.88, 239.86, 239.89, 239.92, 239.9, 239.93, 239.92, 239.94, 239.92, 239.96, 239.96, 239.95, 239.96, 239.96, 239.94, 239.95, 239.97, 239.94, 239.95,
  239.95, 239.94, 239.94, 239.92, 239.91, 239.92, 239.9, 239.91, 239.86, 239.87, 239.87, 239.9, 239.89, 239.91, 239.87, 239.89, 239.83, 239.81, 239.83, 239.85, 239.82, 239.83, 239.83, 239.82, 239.84, 239.83, 239.82, 239.83, 239.82, 239.82, 239.78, 239.75,
  239.77, 239.78, 239.77, 239.78, 239.82, 239.77, 239.82, 239.79, 239.83, 239.78, 239.8, 239.81, 239.81, 239.78, 239.8, 239.79, 239.81, 239.8, 239.85, 239.79, 239.81, 239.78, 239.75, 239.72, 239.71, 239.69, 239.71, 239.73, 239.72, 239.74, 239.73, 239.73,
  239.74, 239.75, 239.77, 239.8, 239.8, 239.8, 239.81, 239.82, 239.83, 239.83, 239.81, 239.83, 239.81, 239.82, 239.83, 239.8, 239.77, 239.76, 239.79, 239.78, 239.81, 239.8, 239.8, 239.83, 239.82, 239.82, 239.84, 239.84, 239.83, 239.84, 239.83, 239.8, 239.81,
  239.81, 239.79, 239.76, 239.8, 239.74, 239.74, 239.75, 239.72, 239.73, 239.76, 239.77, 239.8, 239.76, 239.81, 239.81, 239.81, 239.82, 239.84, 239.84, 239.85, 239.85, 239.82, 239.78, 239.76, 239.8, 239.83, 239.8, 239.78, 239.82, 239.77, 239.83, 239.78,
  239.8, 239.79, 239.77, 239.73, 239.8, 239.74, 239.71, 239.7, 239.68, 239.71, 239.68, 239.69, 239.69, 239.73, 239.71, 239.75, 239.78, 239.78, 239.77, 239.78, 239.77, 239.78, 239.79, 239.78, 239.78, 239.79, 239.74, 239.72, 239.76, 239.82, 239.81, 239.78,
  239.8, 239.78, 239.76, 239.76, 239.78, 239.79, 239.76, 239.75, 239.76, 239.77, 239.68, 239.74, 239.72, 239.71, 239.75, 239.69, 239.69, 239.75, 239.73, 239.76, 239.76, 239.8, 239.79, 239.8, 239.81, 239.8, 239.79, 239.78, 239.74, 239.72, 239.72, 239.74,
  239.69, 239.68, 239.69, 239.69, 239.68, 239.66, 239.69, 239.72, 239.71, 239.71, 239.73, 239.73, 239.73, 239.69, 239.7, 239.69, 239.7, 239.74, 239.75, 239.79, 239.78, 239.78, 239.79, 239.79, 239.81, 239.8, 239.82, 239.78, 239.74, 239.71, 239.75, 239.74,
  239.75, 239.7, 239.73, 239.75, 239.72, 239.79, 239.73, 239.74, 239.74, 239.77, 239.77, 239.78, 239.8, 239.79, 239.78, 239.8, 239.81, 239.82, 239.83, 239.84, 239.84, 239.85, 239.87, 239.86, 239.85, 239.85, 239.82, 239.8, 239.76, 239.81, 239.81, 239.84,
  239.84, 239.86, 239.85, 239.85, 239.81, 239.83, 239.81, 239.78, 239.79, 239.77, 239.78, 239.78, 239.82, 239.8, 239.79, 239.81, 239.82, 239.84, 239.87, 239.86, 239.84, 239.84, 239.8, 239.82, 239.82, 239.84, 239.84, 239.81, 239.82, 239.82, 239.78, 239.79,
  239.79, 239.77, 239.79, 239.77, 239.79, 239.76, 239.78, 239.8, 239.8, 239.8, 239.81, 239.81, 239.82, 239.86, 239.83, 239.84, 239.83, 239.82, 239.81, 239.82, 239.87, 239.83, 239.84, 239.82, 239.81, 239.81, 239.79, 239.78, 239.78, 239.78, 239.77, 239.81,
  239.82, 239.83, 239.83 ];
  var redRValues = [ 61.466, 61.355, 61.375, 61.371, 61.332, 61.191, 61.005, 60.791, 60.83, 60.927, 60.856, 61.711, 61.603, 61.764, 61.709, 61.685, 61.551, 61.579, 61.614, 61.51, 61.591, 61.716, 61.595, 61.811, 61.842, 61.866,
  61.853, 61.771, 61.97, 61.92, 61.836, 61.849, 61.94, 61.913, 62.021, 62.083, 61.527, 61.434, 61.444, 61.303, 61.348, 61.548, 61.593, 60.897, 60.878, 61.526, 61.134, 61.014, 61.315, 61.171, 61.421, 61.266, 61.459, 61.267, 61.396, 61.42, 61.418, 61.415,
  61.371, 61.335, 62.272, 61.558, 61.593, 61.77, 61.771, 61.648, 61.738, 61.802, 61.583, 61.888, 61.828, 61.917, 62.005, 62.186, 62.117, 62.176, 62.343, 62.5, 62.418, 62.517, 61.777, 61.931, 61.72, 62.023, 61.895, 61.789, 61.749, 61.861, 61.73, 61.669,
  61.858, 61.75, 61.83, 61.76, 61.987, 61.928, 61.799, 61.467, 61.267, 61.381, 61.361, 61.396, 61.542, 61.587, 61.555, 61.871, 61.738, 61.517, 61.362, 61.136, 61.275, 61.439, 61.125, 61.535, 61.548, 61.568, 61.405, 61.583, 61.63, 61.713, 61.867, 62.005,
  62.206, 62.07, 62.09, 62.089, 62.069, 61.837, 62.075, 61.811, 61.616, 61.55, 61.764, 61.84, 61.816, 61.776, 61.787, 61.753, 60.97, 61.167, 61.151, 60.858, 61.042, 61.3, 61.361, 61.448, 61.478, 61.458, 61.393, 61.399, 61.207, 61.336, 61.32, 61.765, 61.679,
  61.636, 61.528, 61.583, 61.446, 61.285, 61.357, 60.915, 60.911, 60.776, 60.757, 61.306, 61.177, 61.215, 61.383, 61.469, 61.642, 61.74, 61.69, 61.604, 61.559, 61.496, 61.4, 61.323, 60.779, 60.876, 60.861, 60.922, 60.431, 60.683, 60.694, 60.871, 61.068,
  61.24, 60.833, 60.929, 60.998, 60.927, 61.012, 60.932, 60.942, 60.97, 61.061, 61.465, 61.225, 61.68, 61.298, 61.318, 61.434, 61.381, 61.215, 61.529, 61.319, 61.462, 61.423, 61.48, 61.448, 61.458, 61.213, 61.376, 62.142, 62.287, 62.112, 62.217, 61.843,
  61.676, 61.268, 61.525, 61.532, 61.928, 61.625, 61.536, 61.546, 61.712, 61.557, 61.698, 61.694, 61.468, 61.327, 61.333, 61.731, 62.921, 62.735, 62.357, 62.456, 62.109, 62.111, 62.385, 62.204, 62.296, 62.585, 62.537, 62.338, 62.64, 62.578, 62.841, 62.165,
  62.149, 61.848, 61.552, 61.514, 61.361, 61.687, 62.049, 61.499, 61.706, 61.613, 61.599, 61.582, 61.594, 61.584, 61.7, 61.196, 61.685, 61.689, 61.867, 61.878, 61.736, 61.781, 61.719, 61.765, 61.875, 62.094, 62.039, 62.381, 62.212, 62.157, 62.142, 62.121,
  61.316, 61.558, 61.461, 61.123, 61.416, 61.809, 61.709, 61.3, 61.372, 61.519, 61.234, 61.435, 61.506, 61.639, 61.545, 61.216, 61.547, 61.969, 62.023, 61.738, 61.695, 61.567, 61.746, 61.881, 62.001, 61.886, 61.984, 62.039, 62.05, 61.593, 61.588, 61.454,
  61.421, 61.265, 60.984, 61.182, 61.913, 61.917, 62.111, 62.376, 62.423, 62.421, 61.607, 61.655, 61.683, 61.407, 61.607, 61.311, 61.826, 61.858, 61.759, 61.95, 61.919, 62.099, 62.037, 61.663, 61.534, 61.181, 61.455, 61.328, 61.385, 61.409, 60.869, 61.148,
  60.986, 60.919, 60.733, 61.096, 61.065, 60.927, 61.031, 61.251, 61.05, 60.907, 61.079, 61.389, 61.007, 61.088, 61.461, 61.48, 61.662, 61.916, 62.024, 62.229, 61.761, 61.591, 60.749, 60.743, 60.989, 59.958, 60.117, 60.544, 60.579, 61.03, 60.985, 61.081,
  61.078, 61.15, 61.486, 61.454, 61.304, 61.199, 60.797, 60.95, 60.989, 61.11, 61.224, 61.285, 61.147, 60.898, 61.156, 60.919, 60.201, 60.135, 60.521, 60.185, 60.223, 60.223 ];
  var redTValues = [ 119.82, 119.84, 119.81, 119.79, 119.84, 119.82, 119.82, 119.81,
  119.78, 119.77, 119.79, 119.81, 119.79, 119.82, 119.83, 119.86, 119.82, 119.86, 119.83, 119.84, 119.86, 119.86, 119.83, 119.84, 119.85, 119.87, 119.84, 119.88, 119.86, 119.88, 119.89, 119.93, 119.91, 119.88, 119.9, 119.88, 119.93, 119.9, 119.89, 119.93,
  119.93, 119.94, 119.93, 119.95, 119.97, 119.93, 119.94, 119.95, 119.95, 119.94, 119.95, 119.98, 119.95, 119.96, 119.95, 119.96, 119.95, 119.96, 119.93, 119.9, 119.91, 119.92, 119.92, 119.94, 119.91, 119.88, 119.92, 119.95, 119.97, 119.96, 119.94, 119.97,
  119.97, 119.97, 119.99, 119.98, 119.96, 119.97, 119.96, 119.95, 119.94, 119.92, 119.94, 119.91, 119.91, 119.91, 119.89, 119.91, 119.92, 119.92, 119.93, 119.92, 119.9, 119.88, 119.87, 119.88, 119.88, 119.87, 119.88, 119.87, 119.87, 119.88, 119.87, 119.88,
  119.88, 119.88, 119.88, 119.83, 119.84, 119.85, 119.85, 119.83, 119.84, 119.87, 119.83, 119.86, 119.82, 119.87, 119.86, 119.85, 119.85, 119.87, 119.85, 119.85, 119.86, 119.86, 119.85, 119.87, 119.83, 119.83, 119.8, 119.81, 119.78, 119.8, 119.77, 119.8,
  119.79, 119.79, 119.81, 119.8, 119.79, 119.81, 119.81, 119.83, 119.85, 119.85, 119.85, 119.86, 119.84, 119.85, 119.86, 119.85, 119.87, 119.86, 119.85, 119.86, 119.85, 119.86, 119.85, 119.87, 119.85, 119.89, 119.9, 119.87, 119.91, 119.92, 119.9, 119.91,
  119.92, 119.94, 119.92, 119.92, 119.92, 119.92, 119.9, 119.91, 119.86, 119.87, 119.84, 119.85, 119.8, 119.81, 119.81, 119.86, 119.85, 119.87, 119.87, 119.89, 119.9, 119.9, 119.9, 119.91, 119.91, 119.91, 119.9, 119.87, 119.85, 119.85, 119.84, 119.88, 119.85,
  119.86, 119.89, 119.85, 119.87, 119.89, 119.83, 119.86, 119.85, 119.8, 119.86, 119.79, 119.78, 119.74, 119.71, 119.73, 119.72, 119.73, 119.72, 119.77, 119.8, 119.8, 119.84, 119.85, 119.83, 119.84, 119.84, 119.83, 119.85, 119.85, 119.85, 119.8, 119.8,
  119.79, 119.79, 119.84, 119.8, 119.79, 119.79, 119.8, 119.79, 119.78, 119.81, 119.79, 119.78, 119.77, 119.78, 119.78, 119.69, 119.75, 119.75, 119.73, 119.8, 119.74, 119.75, 119.83, 119.82, 119.82, 119.89, 119.84, 119.84, 119.84, 119.85, 119.84, 119.82,
  119.83, 119.8, 119.77, 119.81, 119.79, 119.75, 119.73, 119.75, 119.75, 119.73, 119.72, 119.74, 119.77, 119.77, 119.75, 119.76, 119.73, 119.76, 119.72, 119.75, 119.74, 119.75, 119.79, 119.83, 119.85, 119.86, 119.85, 119.86, 119.85, 119.88, 119.86, 119.88,
  119.83, 119.78, 119.81, 119.79, 119.81, 119.8, 119.78, 119.79, 119.82, 119.77, 119.85, 119.82, 119.82, 119.82, 119.82, 119.83, 119.85, 119.85, 119.83, 119.85, 119.89, 119.89, 119.9, 119.9, 119.9, 119.92, 119.95, 119.95, 119.93, 119.93, 119.9, 119.87,
  119.85, 119.86, 119.86, 119.87, 119.9, 119.9, 119.89, 119.89, 119.88, 119.91, 119.9, 119.89, 119.86, 119.88, 119.88, 119.84, 119.86, 119.89, 119.89, 119.89, 119.89, 119.9, 119.92, 119.92, 119.92, 119.92, 119.9, 119.87, 119.91, 119.88, 119.89, 119.91,
  119.88, 119.87, 119.88, 119.87, 119.88, 119.85, 119.85, 119.85, 119.86, 119.85, 119.84, 119.84, 119.83, 119.85, 119.85, 119.86, 119.87, 119.87, 119.87, 119.88, 119.87, 119.88, 119.89, 119.89, 119.89, 119.89, 119.88, 119.88, 119.88, 119.89, 119.9, 119.86,
  119.84, 119.84, 119.84, 119.81, 119.85, 119.89, 119.91, 119.91 ];
  var yellowRValues = [ 62.598, 62.451, 62.503, 62.491, 62.471, 62.298, 62.12, 61.898, 61.944, 62.047, 61.92, 62.774, 62.698, 62.833, 62.811, 62.77, 62.665, 62.699, 62.733, 62.622, 62.706,
  62.804, 62.683, 62.903, 62.912, 62.921, 62.877, 62.838, 63.023, 62.974, 62.851, 62.866, 62.931, 62.911, 63.033, 63.084, 62.517, 62.467, 62.452, 62.282, 62.339, 62.531, 62.537, 61.875, 61.862, 62.475, 62.038, 61.903, 62.203, 62.044, 62.312, 62.138, 62.335,
  62.129, 62.271, 62.294, 62.282, 62.323, 62.236, 62.221, 63.179, 62.445, 62.499, 62.662, 62.658, 62.5, 62.609, 62.656, 62.445, 62.754, 62.679, 62.771, 62.866, 63.046, 62.96, 63.032, 63.167, 63.331, 63.254, 63.368, 62.648, 62.795, 62.585, 62.904, 62.756,
  62.705, 62.643, 62.773, 62.598, 62.546, 62.714, 62.626, 62.689, 62.67, 62.926, 62.859, 62.699, 62.374, 62.159, 62.284, 62.282, 62.29, 62.447, 62.504, 62.452, 62.774, 62.651, 62.425, 62.322, 62.086, 62.218, 62.413, 62.114, 62.519, 62.564, 62.551, 62.404,
  62.543, 62.652, 62.696, 62.816, 62.958, 63.177, 63.033, 63.061, 63.029, 63.022, 62.741, 63.056, 62.785, 62.627, 62.607, 62.826, 62.912, 62.893, 62.841, 62.812, 62.775, 61.981, 62.202, 62.16, 61.871, 61.995, 62.229, 62.252, 62.346, 62.373, 62.328, 62.251,
  62.249, 62.059, 62.198, 62.175, 62.638, 62.547, 62.488, 62.407, 62.482, 62.361, 62.182, 62.26, 61.787, 61.81, 61.666, 61.643, 62.23, 62.102, 62.12, 62.295, 62.403, 62.533, 62.645, 62.622, 62.543, 62.486, 62.458, 62.364, 62.247, 61.736, 61.85, 61.808,
  61.898, 61.39, 61.639, 61.623, 61.773, 61.996, 62.117, 61.709, 61.816, 61.875, 61.787, 61.867, 61.766, 61.777, 61.83, 61.958, 62.396, 62.096, 62.565, 62.224, 62.279, 62.369, 62.354, 62.127, 62.528, 62.255, 62.434, 62.428, 62.509, 62.407, 62.473, 62.266,
  62.401, 63.2, 63.302, 63.148, 63.263, 62.883, 62.699, 62.318, 62.517, 62.528, 62.89, 62.56, 62.45, 62.473, 62.624, 62.461, 62.619, 62.626, 62.367, 62.291, 62.326, 62.747, 63.927, 63.739, 63.43, 63.492, 63.181, 63.202, 63.471, 63.273, 63.348, 63.681, 63.622,
  63.422, 63.683, 63.694, 63.929, 63.242, 63.231, 62.908, 62.674, 62.617, 62.403, 62.736, 63.052, 62.529, 62.653, 62.567, 62.553, 62.519, 62.54, 62.534, 62.653, 62.175, 62.73, 62.773, 62.95, 63.01, 62.904, 62.96, 62.912, 62.936, 63.069, 63.263, 63.161,
  63.518, 63.328, 63.227, 63.201, 63.187, 62.422, 62.665, 62.568, 62.225, 62.463, 62.852, 62.672, 62.251, 62.326, 62.475, 62.193, 62.372, 62.455, 62.581, 62.504, 62.202, 62.594, 62.986, 63.063, 62.792, 62.817, 62.624, 62.8, 62.948, 63.021, 62.961, 63.044,
  63.105, 63.061, 62.632, 62.627, 62.472, 62.446, 62.293, 62.037, 62.217, 62.868, 62.923, 63.088, 63.353, 63.387, 63.351, 62.553, 62.618, 62.634, 62.378, 62.623, 62.401, 62.822, 62.857, 62.735, 62.915, 62.844, 63.041, 62.972, 62.666, 62.519, 62.204, 62.514,
  62.381, 62.444, 62.449, 61.887, 62.108, 61.967, 61.872, 61.677, 62.022, 61.979, 61.802, 61.918, 62.162, 61.939, 61.819, 62.006, 62.364, 62.017, 62.116, 62.49, 62.489, 62.662, 62.948, 63.05, 63.225, 62.791, 62.625, 61.763, 61.723, 62, 60.962, 61.037, 61.467,
  61.488, 61.94, 61.921, 61.997, 61.948, 62.049, 62.373, 62.345, 62.192, 62.113, 61.728, 61.84, 61.932, 62.055, 62.185, 62.262, 62.15, 61.908, 62.185, 61.948, 61.218, 61.138, 61.493, 61.097, 61.076, 61.076 ];
  var yellowTValues = [ 0, 0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];

  // slider
  dragFixedSlider = document.getElementById('drag-fixed');
  noUiSlider.create(dragFixedSlider, {
  	start: [ 10 ],
    step: 1,
  	range: {
  		'min':  0,
  		'max':  ( sliderLength )
  	},
    pips: {
  	mode: 'range',
  	density: 1
  }
  });

  // slider update function
  dragFixedSlider.noUiSlider.on('update', function(){

    var sliderMax = this["options"]["range"]["max"];
    var sliderMin = this["options"]["range"]["min"];
    var sliderValue = parseInt(this.get());

    //  rough table for values
    var tableContent = "Slider interval: " + sliderValue + " Timestamp: " + sumCurrentDates[sliderValue] +

      "   ///// Current Sum Mag: " + sumCurrentRValues[sliderValue] + " - Current Sum PA: " + sumCurrentTValues[sliderValue] +

      "   ///// I-R mag: " + phasorRedRData[sliderValue] + " - PA1: " + phasorRedTData[sliderValue] +
      "   ///// I-Y mag: " + phasorYellowRData[sliderValue] +  " - PA2: " + phasorYellowTData[sliderValue] +
      "   ///// I-B mag: " + phasorBlueRData[sliderValue] +  " - PA3: " + phasorBlueTData[sliderValue];

    document.getElementById('table').innerHTML = tableContent


    //debug and testing for latest val
    var tSelected = sumCurrentTValues[sliderValue];
    var rSelected = sumCurrentRValues[sliderValue];

    if (sliderValue === sliderMax) {
      var latestColor = "lightgreen";
    } else {
      var latestColor = "orange";
    }
    // console.log("slider update fire");
    // console.log(this.get());
    // console.log("Slider max: " + sliderMax);
    // console.log("Slider min: " + sliderMin);
    // console.log("Slider value: " + sliderValue);
    // console.log(blueTValues[sliderValue]);
    // console.log(blueRValues[sliderValue]);


    // phasor chart
    var polarTwoConfig = {
      "data": [
      {
        "t": [phasorRedTData[sliderValue]],
        "r": [phasorRedRData[sliderValue]],
        "name": "I-R",
        "visible": true,
        "color": "red",
        "geometry": "DotPlot",
      },
      {
        "t": [phasorYellowTData[sliderValue]],
        "r": [phasorYellowRData[sliderValue]],
        "name": "I-Y",
        "visible": true,
        "color": "yellow",
        "geometry": "DotPlot",
      },
      {
        "t": [phasorBlueTData[sliderValue]],
        "r": [phasorBlueRData[sliderValue]],
        "name": "I-B",
        "visible": true,
        "color": "blue",
        "geometry": "DotPlot",
      }],
      "layout": {
        "radialAxis": {
          "domain": [60,70],
          "orientation": -45,
          "visible": true,
          "gridLinesVisible": true,
          "tickOrientation": 'horizontal',
          "ticksSuffix": "mA"
        },
        "angularAxis": {
          "domain": [0,360],
          "visible": true,
          "gridLinesVisible": true,
          "labelsVisible": true,
          "tickOrientation": "horizontal",
          "ticksSuffix": "°"
        },
        "labelOffset": 15,
        "direction": "counterclockwise",
      },

    };

    // sum current chart
    var polarOneConfig = {
      "data": [
      // data for sum current cloud
      {
        "t": sumCurrentTValues,
        "r": sumCurrentRValues,
        "name": "Current Sum",
        "visible": true,
        "color": "blue",
        "geometry": "DotPlot",
      },
      //data for selected point
      {
        "t": [tSelected],
        "r": [rSelected],
        "name": "Selected Point",
        "visible": true,
        "color": "lightgreen",
        "geometry": "DotPlot",
      },
      //data for most recent point
      {
        "t": [sumCurrentTValues[sliderMax]],
        "r": [sumCurrentRValues[sliderMax]],
        "name": "Latest Value",
        "visible": true,
        "color": latestColor,
        "geometry": "DotPlot",
      }],
      "layout": {
        "radialAxis": {
          "domain": [.7,1],
          "orientation": -45,
          "visible": true,
          "gridLinesVisible": true,
          "tickOrientation": 'horizontal',
          "ticksSuffix": "mA"
        },
        "angularAxis": {
          "domain": [0,360],
          "visible": true,
          "gridLinesVisible": true,
          "labelsVisible": true,
          "tickOrientation": "horizontal",
          "ticksSuffix": "°"
        },
        "labelOffset": 15,
        "direction": "counterclockwise",
      },
    };

    //rendering both here
    micropolar.Axis()
      .config(polarTwoConfig)
      .render(d3.select('#chart-sub-polar2'))
    micropolar.Axis()
      .config(polarOneConfig)
      .render(d3.select('#chart-sub-polar1'));

  });



  </script>
</body>
</html>
